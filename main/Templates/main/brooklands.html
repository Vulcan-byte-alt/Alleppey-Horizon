<!DOCTYPE html>
<html lang="en">
<head>
    <title>Hotel Booking</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">
    <link type="image/x-icon" rel="icon" href="/static/img/favicon.ico">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
     <style>
        body {
            font-family: 'Raleway', sans-serif;
            margin: 0;
            padding: 0;
            overflow: auto;
            background-color: #121212;
            color: #ffffff;
            
        }

        .main-heading {
            font-family: "Raleway";
            font-size: 36px;
            text-align: center;
            padding: 20px;
            background: linear-gradient(45deg, #980bcb, #048f0db9);
            color: #fff;
            margin-bottom: 20px;
        }

        .hotel {
            background-color: rgba(0, 0, 0, 0.43);
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            text-align: left;
            position: relative;
            overflow: hidden;
            transform: scale(1);
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out, border-color 0.3s ease-in-out;
            margin: 20px auto;
            width: 70%;
            position: relative;
            margin-top: 30px;
            margin-bottom: 40px; 
        }

        .carousel-inner img {
            width: 100%;
            height: 500px;
            border-radius: 8px;
        }

        .hotel-info {
            width: 100%;
            margin-top: 20px;
            padding: 20px;
            border-radius: 8px;
        }

        .hotel-info h2 {
            margin-top: 0;
            font-size: 1.5rem;
            color: #fff;
            margin-bottom: 15px;
        }

        .hotel-info p {
            line-height: 1.6;
            color: #fff;
            font-size: 1rem;
        }

        .hotel-info h3 {
            font-size: 1rem;
            color: #ffffff8e;
            margin-top: 15px;
        }

        .hotel-info ul {
            list-style-type: none;
            padding: 0;
            margin: 0;
            font-size: 1rem;
        }

        .hotel-info ul li {
            font-size: 1rem;
            color: #fff;
        }

        .price-section {
            border: 2px solid;
            border-image: linear-gradient(45deg, #980bcb, #048f0db9) 1;
            padding: 10px;
            border-radius: 8px;
            position: absolute;
            bottom: 50px;
            right: 0px;
            width: calc(70% - 40px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .price-section p {
            margin: 0;
            font-size: 1rem;
            color: #fff;
        }

        .button {
            display: inline-block;
            font-size: 16px;
            color: #fff !important;
            background: linear-gradient(45deg, #980bcb, #048f0db9);
            padding: 8px 16px;
            border: none;
            cursor: pointer;
            text-decoration: none !important;   
            text-align: center;
            transition: background-color 0.3s;
            border-radius: 4px;
            margin-top: 10px; /* Adjusted margin-top */
            display: inline-block;
            position: relative; /* Add this line */
            left:455px;
            margin-bottom: 25px;
        }

        .button:hover {
            background-color: #45a049;
        }

        #particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }
    </style>
    <script>
        function validateForm() {
            var totalCost = document.getElementById('hidden_total_price').value;

            if (totalCost === '') {
                alert('Please hit the "Calculate" button to determine the total cost before submitting.');
                return false; // Prevent form submission
            }

            // Add any other validation logic here if needed

            return true; // Allow form submission
        }

        var basePrice = 1349; // Base price for 1 room
        var taxesAndFees = 304; // Taxes & fees per room

        function calculatePrice() {
            var numRooms = document.getElementById('numRooms').value;
            var totalCost = numRooms * (basePrice + taxesAndFees);
            document.getElementById('totalCost').innerHTML = "₹" + totalCost + "  " + "(Inclusive of taxes & fees)";
            document.getElementById('hidden_total_price').value = totalCost;  // Update the hidden input field
        }

        // Calculate initial price
        calculatePrice();
    </script>
</head>
<body>
    <form method="post" action="{% url 'brooklands' %}" onsubmit="return  validateForm()">
        {% csrf_token %}
        <canvas id="particles"></canvas>
        
        <div class="main-heading">Hotel Booking</div>

        <div class="hotel">
            <div class="row">
                <div class="col-md-8">
                    <div id="imageCarousel" class="carousel slide" data-ride="carousel">
                        <div class="carousel-inner">
                            <div class="carousel-item active">
                                <img src="/static/img/332101564-transformed.jpeg" alt="First slide">
                            </div>
                            <div class="carousel-item">
                                <img src="/static/img/hotels/brooklands/Screenshot 2024-02-14 190214.png" alt="Second slide">
                            </div>
                            <div class="carousel-item">
                                <img src="/static/img/hotels/brooklands/Screenshot 2024-02-14 190127.png" alt="Third slide">
                            </div>
                            <div class="carousel-item">
                                <img src="/static/img/hotels/brooklands/Screenshot 2024-02-14 190203.png" alt="Fourth slide">
                            </div>
                            <div class="carousel-item">
                                <img src="/static/img/hotels/brooklands/Screenshot 2024-02-14 190151.png" alt="Fifth slide">
                            </div>
                            <div class="carousel-item">
                                <img src="/static/img/hotels/brooklands/Screenshot 2024-02-14 190139.png" alt="Sixth slide">
                            </div>
                        
                            <!-- Add more carousel items as needed -->
                        </div>
                        <a class="carousel-control-prev" href="#imageCarousel" role="button" data-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="sr-only">Previous</span>
                        </a>
                        <a class="carousel-control-next" href="#imageCarousel" role="button" data-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="sr-only">Next</span>
                        </a>
                    </div>
                </div>
                <div class="col-md-4 hotel-info">
                    <h2>Brooklands Avenue</h2>
                    <p><i class="fa fa-map-marker"></i>  Sea View Ward, Alleppey</p>
                    <h3>Room Details</h3>
                    <p>Standrad Room on Ground Floor</p>
                    <p>For 2 Adults</p>
                    <p>Inclusions: Room only, Breakfast</p>
                    <p>Free cancellation till check-in</p>
                    <br>
                    <br>
                    <br>
                    <div class="price-section" style="position: relative;">
                        <p>Price: ₹1,349 (Save ₹251) per night</p>
                    </div>
                    <div class="persons-calculator" style="background: black; color: white; border: 3px solid; border-image: linear-gradient(to right, purple, green) 1;margin-bottom: -23px;padding-left: 10px;margin-top: 116px;">
                        <h3>Number of Rooms</h3>
                        <input type="number" id="numRooms" name="numRooms" required>
                        <button type="button" onclick="calculatePrice()" style="background: linear-gradient(to right, purple, green); color: white;">Calculate</button>
                        <h3>Total Price</h3>
                        <p id="totalCost"></p>
                        <input type="hidden" id="hidden_total_price" name="hidden_total_price">
                        <h3>Check In Date</h3>
                        <input type="date" name="date" required>
                        <br>
                        <br>
                    </div>
                </div>
            </div>

            <div class="hotel-info" style="margin-top: -250px;padding-top: 0px;">
                <h3>Popular Amenities</h3>
                    <ul>
                        <li>Lounge</li>
                        <li>Smoke Detector</li>
                        <li>Intercom</li>
                        <li>24-hour room service</li>
                        <li>Lounge</li>
                        <li>Power Backup</li>
                        <li>Dining Area</li>
                        <li>Security</li>
                        <br>
                    </ul>
                
                
            </div>

            <div style="text-align: center;"> <!-- Adjusted Book Now button container -->
                <button class="button">Checkout</button>
            </div>
        </div>
    </form>
    <!-- Include Bootstrap JS and Popper.js -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var hotels = document.querySelectorAll('.hotel');

            for (var i = 0; i < hotels.length; i++) {
                hotels[i].style.transform = 'translateX(-100%)';
                hotels[i].style.opacity = '0';
            }

            setTimeout(function () {
                for (var i = 0; i < hotels.length; i++) {
                    hotels[i].style.transform = 'translateX(0)';
                    hotels[i].style.opacity = '1';
                    hotels[i].style.transition = 'transform 0.5s ease-in-out, opacity 0.5s ease-in-out';
                }
            }, 100);

            for (var i = 0; i < hotels.length; i++) {
                hotels[i].addEventListener('mouseover', function() {
                    this.style.transform = 'scale(1.05)';
                    this.style.boxShadow = '0 8px 16px rgba(255,51,153,0.6)';
                    this.style.borderColor = '#4CAF50';
                });

                hotels[i].addEventListener('mouseout', function() {
                    this.style.transform = 'scale(1)';
                    this.style.boxShadow = '0 4px 8px rgba(0, 0, 0, 0.1)';
                    this.style.borderColor = 'transparent';
                });
            }
        });
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var canvas = document.getElementById('particles');
            var ctx;

            if (canvas) {
                ctx = canvas.getContext('2d');

                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;

                var particlesArray = [];

                function Particle() {
                    this.x = Math.random() * canvas.width;
                    this.y = Math.random() * canvas.height;
                    this.size = Math.random() * 5 + 1;
                    this.speedX = Math.random() * 3 - 1.5;
                    this.speedY = Math.random() * 3 - 1.5;
                }

                Particle.prototype.update = function() {
                    this.x += this.speedX;
                    this.y += this.speedY;

                    if (this.size > 0.2) this.size -= 0.1;
                }

                Particle.prototype.draw = function() {
                    ctx.fillStyle = '#3399FF';
                    ctx.strokeStyle = '#FF3399';
                    ctx.lineWidth = 2;

                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                    ctx.closePath();

                    ctx.fill();
                    ctx.stroke();
                }

                function createParticles() {
                    particlesArray = [];

                    for (var i = 0; i < 100; i++) {
                        particlesArray.push(new Particle());
                    }
                }

                function animateParticles() {
                    ctx.clearRect(0, 0, canvas.width, canvas.height);

                    for (var i = 0; i < particlesArray.length; i++) {
                        particlesArray[i].update();
                        particlesArray[i].draw();

                        if (particlesArray[i].size <= 0.2) {
                            particlesArray.splice(i, 1);
                            i--;
                        }
                    }

                    requestAnimationFrame(animateParticles);

                    if (particlesArray.length < 100) {
                        particlesArray.push(new Particle());
                    }
                }

                window.addEventListener('resize', function() {
                    canvas.width = window.innerWidth;
                    canvas.height = window.innerHeight;
                    createParticles();
                });

                createParticles();
                animateParticles();
            }
        });
    </script>
    
</body>
</html>


                    